######################################################################################################################
# Header file
######################################################################################################################
#---------------------------------------------------------------------------------------------------------------------
### Setup
#---------------------------------------------------------------------------------------------------------------------
rm(list=ls())
options(scipen=999)
# options(java.parameters = "-Xmx10000m")
options(java.parameters = "-Xmx1g")
#---------------------------------------------------------------------------------------------------------------------
### Library
#---------------------------------------------------------------------------------------------------------------------
library(dplyr)
library(geoR)
library(fields)
library(ggplot2)
library(directlabels)
library(randomForest)
library(gbm)
library(cvTools)
library(caret)
#---------------------------------------------------------------------------------------------------------------------
### Project folder path
#---------------------------------------------------------------------------------------------------------------------
#repo_path = "C:/Apps/projects/xxx"
repo_path = "Z:/project"
#---------------------------------------------------------------------------------------------------------------------
### Data path
#---------------------------------------------------------------------------------------------------------------------
wd <- getwd()
setwd(file.path(repo_path, "/data"))
#---------------------------------------------------------------------------------------------------------------------
### Load data
#---------------------------------------------------------------------------------------------------------------------
#@@Wear data
weardata<-read.csv('wear.csv',header=TRUE,as.is=TRUE)
#---------------------------------------------------------------------------------------------------------------------
### Reset working dir
#---------------------------------------------------------------------------------------------------------------------
setwd(wd)
n<-dim(weardata)[1]
result630<-rep(0,100)
for (i in 1:600)
{
n1<-base::sample(1:n,size=ceiling(n*0.8))
lm630<-lm(log(wear630+0.01) ~ SlurryVelocity+BitumenWtPct+SolidsConcWt+UltraFinesPct+FinesPct+d50+P ,
data = weardata[n1,])
lm630 <- stepAIC(lm630, direction="both")
prelm630<-exp(predict(lm630,newdata=weardata[-n1,6:12]))-0.01
trulm630<-weardata[-n1,3]
result630[i]<-sqrt(mean((prelm630-trulm630)^2))
}
#---------------------------------------------------------------------------------------------------------------------
library(dplyr)
library(geoR)
library(fields)
library(ggplot2)
library(directlabels)
library(randomForest)
library(gbm)
library(cvTools)
library(caret)
